(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{116:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=s(a(26)),r=s(a(9)),i=s(a(12));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"pureGetDownload",value:function(e){var t=document.createElement("a");t.href=i.default.contextPath()+e,t.id="idoftemporarydownloadlink",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},{key:"postDownload",value:function(e,t,a){this.isIE()?this.downloadIE(i.default.contextPath()+e,t,a,!0):this.downloadRest(i.default.contextPath()+e,t,a,!0)}},{key:"getDownload",value:function(e,t){this.isIE()?this.downloadIE(e,"","unknown.qtb",!1):this.downloadRest(e,"","unknown.qtb",!1)}},{key:"isIE",value:function(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1}},{key:"downloadIE",value:function(e,t,a,o){var i=this;l.default.show();(o?this.callPostFetch(e,t):this.callGetFetch(e)).then((function(e){return i.filename=e.headers.get("filename"),e.blob()})).then((function(e){void 0!==e?(void 0===n(i.filename)&&(i.filename=a),l.default.hide(),window.navigator.msSaveOrOpenBlob(e,i.filename)):i.pureGetDownload()})).catch((function(e){l.default.hide(),"OK"!=e&&r.default.show(e,3)}))}},{key:"callPostFetch",value:function(e,t){var a=t;return fetch(e,{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}},{key:"callGetFetch",value:function(e){return fetch(e,{credentials:"include"})}},{key:"downloadRest",value:function(e,t,a,n){var o=this;l.default.show();(n?this.callPostFetch(e,t):this.callGetFetch(e)).then((function(e){return o.filename=e.headers.get("filename"),void 0===o.filename&&(o.filename=a),e.body})).then((function(t){if(void 0!==t){var a=t.getReader();return new ReadableStream({start:function(e){return function t(){return a.read().then((function(a){var n=a.done,o=a.value;if(!n)return e.enqueue(o),t();e.close()}))}()}})}o.pureGetDownload(e)})).then((function(e){return new Response(e)})).then((function(e){return e.blob()})).then((function(e){return URL.createObjectURL(e)})).then((function(e){l.default.hide(),o.downloadFile(e)})).catch((function(e){l.default.hide(),"OK"!=e&&r.default.show(e,3)}))}},{key:"downloadFile",value:function(e){void 0===this.filename&&(this.filename=this.filename);var t=document.createElement("a");t.style.display="none",t.href=e,t.setAttribute("download",this.filename),void 0===t.download&&t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),document.body.removeChild(t),setTimeout((function(){window.URL.revokeObjectURL(e)}),100)}}]),e}();t.default=u},145:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(1),l=u(o),r=u(a(0)),i=a(11),s=u(a(12));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n="",o=e.table.headers.headers;return s.default.isGoodArray(o)&&o.forEach((function(e){e.generalCondition.length>0&&(n=e.generalCondition)})),a.state={commonFilter:n},a.searchText=a.searchText.bind(a),a.applyFilters=a.applyFilters.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"searchText",value:function(e){var t=e.target.value,a=this.state;t.length>this.props.table.searchTreshold?this.applyFilters(t):this.state.commonFilter.length>this.props.table.searchTreshold&&this.applyFilters(t),a.commonFilter=t,this.setState(a)}},{key:"applyFilters",value:function(e){var t=this,a=this.props.table.headers;a.page=1,s.default.isGoodArray(a.headers),a.headers.forEach((function(a){a.filterAllowed&&(e.length>t.props.table.searchTreshold?a.generalCondition=e:a.generalCondition="")})),this.props.loader()}},{key:"render",value:function(){var e=this;return l.default.createElement(i.Input,{className:"form-control",id:"search_text",bsSize:"sm",placeholder:this.props.label,type:"text",name:"search_text",value:this.state.commonFilter,disabled:this.props.disabled,onChange:function(t){return e.searchText(t)}})}}]),t}(o.Component);t.default=c,c.propTypes={label:r.default.string.isRequired,table:r.default.object.isRequired,loader:r.default.func.isRequired,disabled:r.default.bool}},311:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(1),l=f(o),r=a(11),i=f(a(0)),s=f(a(18)),u=f(a(27)),c=f(a(12)),d=f(a(9));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={data:{visible:!1},labels:{global_add:"",allfiltered:"",descr_normal:"",descr_special:"",descr_contest:"",descr_donat:"",medicines:"",medprod:""}},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){s.default.resolveLabels(this),this.state.data=this.props.buttons}},{key:"componentDidUpdate",value:function(){this.props.buttons.justloaded&&(this.state.data=this.props.buttons,this.state.data=this.props.buttons)}},{key:"render",value:function(){var e=this;return this.state.data.visible?l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"6",xl:"6"},l.default.createElement(r.ButtonGroup,null,l.default.createElement(r.Button,{size:"sm",outline:!0,color:"primary",active:0==this.state.data.appType,onClick:function(){e.state.data.appType=0,e.setState(e.state),e.props.reload()}},this.state.labels.allfiltered),l.default.createElement(r.Button,{size:"sm",outline:!0,color:"secondary",active:1==this.state.data.appType,onClick:function(){e.state.data.appType=1,e.setState(e.state),e.props.reload()}},this.state.labels.descr_normal),l.default.createElement(r.Button,{size:"sm",outline:!0,color:"primary",active:2==this.state.data.appType,onClick:function(){e.state.data.appType=2,e.setState(e.state),e.props.reload()}},this.state.labels.descr_special))),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"5",xl:"5"},l.default.createElement(r.ButtonGroup,null,l.default.createElement(r.Button,{size:"sm",outline:!0,color:"primary",active:0==this.state.data.productType,onClick:function(){e.state.data.productType=0,e.setState(e.state),e.props.reload()}},this.state.labels.allfiltered),l.default.createElement(r.Button,{size:"sm",outline:!0,color:"secondary",active:1==this.state.data.productType,onClick:function(){e.state.data.productType=1,e.setState(e.state),e.props.reload()}},this.state.labels.medicines),l.default.createElement(r.Button,{size:"sm",outline:!0,color:"primary",active:2==this.state.data.productType,onClick:function(){e.state.data.productType=2,e.setState(e.state),e.props.reload()}},this.state.labels.medprod))),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"2",xl:"1"},l.default.createElement(r.Button,{size:"sm",color:"primary",disabled:0==this.state.data.productType||0==this.state.data.appType,outline:0==this.state.data.productType||0==this.state.data.appType,onClick:function(){c.default.postJSONNoSpinner("/api/applicant/application/create",e.state.data,(function(e,t){t.valid?u.default.navigate("applications","ApplicationForm",t.newApplicationId):d.default.show(t.alertMessage,0)}))}},this.state.labels.global_add))):[]}}]),t}(o.Component);t.default=p,p.propTypes={buttons:i.default.object.isRequired,reload:i.default.func.isRequired}},62:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(1),l=h(o),r=a(11),i=h(a(18)),s=h(a(12)),u=h(a(145)),c=h(a(114)),d=h(a(27)),f=h(a(116)),p=h(a(311));function h(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={data:{},labels:{search:"",exportExcel:""}},a.loadData=a.loadData.bind(a),a.excelTable=a.excelTable.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){i.default.resolveLabels(this),this.loadData()}},{key:"loadData",value:function(){var e=this;this.state.data.tabName=d.default.tabName(),s.default.postJSON("/api/common/applications",this.state.data,(function(t,a){e.state.data=a,e.setState(e.state.data)}))}},{key:"excelTable",value:function(){(new f.default).postDownload("/api/common/applications/excel",this.state.data,"applications.xlsx")}},{key:"render",value:function(){var e=this;return null!=this.state.data.table?l.default.createElement(r.Card,{style:{fontSize:"0.8rem"}},l.default.createElement(r.CardHeader,null,l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"2",xl:"2"},l.default.createElement(u.default,{label:this.state.labels.search,table:this.state.data.table,loader:this.loadData})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"9",xl:"9"},l.default.createElement(p.default,{buttons:this.state.data.buttons,reload:this.loadData})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"1",xl:"1",className:"d-flex justify-content-right"},l.default.createElement(r.Button,{className:"btn-block",size:"sm",outline:!0,color:"primary",onClick:this.excelTable},this.state.labels.exportExcel)))),l.default.createElement(r.CardBody,null,l.default.createElement(c.default,{tableData:this.state.data.table,loader:this.loadData,headBackground:"#0099cc",linkProcessor:function(t,a){d.default.openApplication(e.state.data.table.rows[t].dbID+"")},styleCorrector:function(e){if(["destination","custom"].indexOf(e)>-1)return{width:"20%"}}}))):[]}}]),t}(o.Component);t.default=b}}]);