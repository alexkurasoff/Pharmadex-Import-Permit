(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{111:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),l=u(o),r=u(a(0)),s=u(a(121)),i=u(a(110));function u(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"render",value:function(){return this.props.edit?l.default.createElement(s.default,{attribute:this.props.attribute,api:this.props.api,component:this.props.component,addlabel:"",selectlabel:""}):l.default.createElement(i.default,{mode:"text",attribute:this.props.attribute,component:this.props.component,hideEmpty:this.props.hideEmpty})}}]),e}(o.Component);e.default=d,d.propTypes={attribute:r.default.string.isRequired,component:r.default.object.isRequired,api:r.default.string.isRequired,edit:r.default.bool,hideEmpty:r.default.bool}},115:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),l=u(o),r=a(11),s=u(a(0)),i=u(a(120));function u(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.isValid=a.isValid.bind(a),a.isStrict=a.isStrict.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"isValid",value:function(){var t=this.props.component,e=this.props.attribute;return!t.state.data[e].error}},{key:"isStrict",value:function(){var t=this.props.component,e=this.props.attribute;return t.state.data[e].strict}},{key:"render",value:function(){var t=this.props.component,e=this.props.attribute;return void 0!==t.state.data&&void 0!==t.state.data[e]?(t.state.data[e].justloaded=!1,l.default.createElement(r.FormGroup,null,l.default.createElement(r.Label,{for:e},t.state.labels[e]),l.default.createElement(i.default,{bsSize:"sm",id:e,locale:t.state.labels.locale,valid:this.isValid(),strict:this.isStrict(),suggest:t.state.data[e].suggest,value:t.state.data[e].value,onChange:function(a){if(a instanceof Date){var n="0"+(a.getMonth()+1),o="0"+a.getDate(),l=a.getFullYear()+"-"+n.substr(-2)+"-"+o.substr(-2),r=t.state;r.data[e].value=l,t.setState(r)}else if(null==a){var s=t.state;s.data[e].value=null,s.popoverOpened=!1,t.setState(s)}}}))):[]}}]),e}(o.Component);e.default=d,d.propTypes={attribute:s.default.string.isRequired,component:s.default.object.isRequired}},117:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),l=u(o),r=u(a(0)),s=u(a(115)),i=u(a(110));function u(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"render",value:function(){return this.props.edit?l.default.createElement(s.default,{attribute:this.props.attribute,component:this.props.component}):l.default.createElement(i.default,{mode:"date",attribute:this.props.attribute,component:this.props.component})}}]),e}(o.Component);e.default=d,d.propTypes={attribute:r.default.string.isRequired,component:r.default.object.isRequired,edit:r.default.bool}},119:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),l=y(o),r=a(11),s=y(a(0)),i=y(a(18)),u=y(a(12)),d=y(a(122)),c=y(a(107)),p=y(a(67)),f=y(a(109)),h=y(a(110)),m=y(a(113)),b=y(a(111));function y(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={manufs:[],data:{id:0,applicant_country:"",manuf_name:{},notfound:!1},prodId:0,labels:{manufacturer_detail:"",global_add:"",manuf_name:"",company_type:"",applicant_country:"",btn_not_found:"",othermanufname:""}},a.add=a.add.bind(a),a.deleteItem=a.deleteItem.bind(a),a.setData=a.setData.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){i.default.resolveLabels(this),this.setData(),this.state.prodId=this.props.productForm.state.data.id,this.comparator=new p.default(this),this.setState(this.state)}},{key:"componentDidUpdate",value:function(){var t=this;if(this.state.prodId!=this.props.productForm.state.data.id)this.setData(),this.state.prodId=this.props.productForm.state.data.id,this.state.manufs.justloaded=!1,this.setState(this.state);else if(this.state.data.manuf_name.value.code.length>=3&&null!=this.comparator){var e=this.comparator.checkChanges();e.length>0&&"manuf_name"==e&&(-1==this.state.data.manuf_name.value.id?(this.state.data.notfound=!0,this.setState(this.state)):u.default.postJSONNoSpinner("/api/common/load/company",this.state.data,(function(e,a){t.state.data=a,t.props.productForm.state.data.finProdManuf=t.state.data,t.comparator=new p.default(t),t.setState(t.state.data)})))}}},{key:"setData",value:function(){this.state.manufs=this.props.productForm.state.data.manufacturers,this.state.data=this.props.productForm.state.data.finProdManuf,this.comparator=new p.default(this)}},{key:"add",value:function(){var t=this;u.default.postJSONNoSpinner("/api/common/manufs/add",this.state.manufs,(function(e,a){t.state.manufs=a,t.props.productForm.state.data.manufacturers=t.state.manufs,t.comparator=new p.default(t),t.props.productForm.setState(t.props.productForm.state)}))}},{key:"deleteItem",value:function(t){if(!(t<0)&&u.default.isGoodArray(this.state.manufs)){var e=[],a=0;this.state.manufs.forEach((function(n){a!=t&&e.push(n),a+=1})),this.state.manufs=e,this.props.productForm.state.data.manufacturers=this.state.manufs,this.props.productForm.setState(this.props.productForm.state)}}},{key:"paintFinishProdComp",value:function(){return this.state.data.notfound?l.default.createElement(r.Row,{key:"finishedproductmanuf"},l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},l.default.createElement(r.Card,null,l.default.createElement(r.CardBody,null,l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},l.default.createElement(b.default,{attribute:"manuf_name",component:this,api:"/api/common/manufacturers",edit:this.props.edit}))),l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},l.default.createElement(m.default,{mode:"text",attribute:"othermanufname",component:this}))),l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"6",xl:"6"},l.default.createElement(f.default,{attribute:"applicant_country",component:this,edit:!0})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"6",xl:"6"},l.default.createElement(h.default,{mode:"text",attribute:"company_type",component:this}))))))):l.default.createElement(r.Row,{key:"finishedproductmanuf"},l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},l.default.createElement(r.Card,null,l.default.createElement(r.CardBody,null,l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},l.default.createElement(b.default,{attribute:"manuf_name",component:this,api:"/api/common/manufacturers",edit:this.props.edit}))),l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"6",xl:"6"},l.default.createElement(h.default,{mode:"text",attribute:"applicant_country",component:this})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"6",xl:"6"},l.default.createElement(h.default,{mode:"text",attribute:"company_type",component:this})))))))}},{key:"paintComponents",value:function(){var t=this,e=[];if(e.push(this.paintFinishProdComp()),u.default.isGoodArray(this.state.manufs)){var a=0;this.state.manufs.forEach((function(n){e.push(l.default.createElement(r.Row,{key:n.uniqueKey+a,style:{marginTop:"10px"}},l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},l.default.createElement(d.default,{item:n,index:a,productForm:t.props.productForm,listForm:t,edit:t.props.edit})))),a+=1}))}return e}},{key:"render",value:function(){return null!=this.state.labels.locale?this.props.noadd||!this.props.edit?this.paintComponents():l.default.createElement(r.Card,null,l.default.createElement(r.CardHeader,null,l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"12",sm:"9",lg:"9",xl:"9",className:"d-flex justify-content-center"},l.default.createElement("b",null,this.state.labels.manufacturer_detail)),l.default.createElement(r.Col,{xs:"12",sm:"3",lg:"3",xl:"3",className:"d-flex justify-content-end",hidden:this.props.noadd},l.default.createElement(c.default,{label:this.state.labels.global_add,onClick:this.add,edit:this.props.edit})))),l.default.createElement(r.CardBody,null,this.paintComponents())):[]}}]),e}(o.Component);e.default=v,v.propTypes={productForm:s.default.object.isRequired,noadd:s.default.bool}},120:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),l=u(o),r=a(11),s=u(a(0)),i=u(a(142));function u(t){return t&&t.__esModule?t:{default:t}}a(140);var d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={popoverOpened:!1,labels:{}},a.togglePopover=a.togglePopover.bind(a),a.ensureDate=a.ensureDate.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"togglePopover",value:function(){var t=this.state;t.popoverOpened=!t.popoverOpened,this.setState(t)}},{key:"ensureDate",value:function(t){if(void 0===t)return new Date;if(null==t)return new Date;if(t instanceof Date)return t;if("string"==typeof t){var e=new Date(t);return isNaN(e)?new Date:e}return new Date}},{key:"ensureDateAsString",value:function(t){if(void 0===t)return new Date;if(t instanceof Date)return t.toLocaleDateString(this.props.locale);if("string"==typeof t){var e=new Date(t);return isNaN(e)?"":e.toLocaleDateString(this.props.locale)}return""}},{key:"render",value:function(){var t=this;return l.default.createElement("div",null,l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"9",sm:"9",lg:"9",xl:"9",className:"pr-0"},l.default.createElement(r.Input,{type:"text",bsSize:this.props.bsSize,id:this.props.id,value:this.ensureDateAsString(this.props.value),onClick:this.togglePopover,readOnly:!0,valid:this.props.valid&&this.props.strict,invalid:!this.props.valid&&this.props.strict}),l.default.createElement(r.FormFeedback,{valid:!1},this.props.suggest),l.default.createElement(r.FormText,{hidden:this.props.strict||this.props.valid},this.props.suggest)),l.default.createElement(r.Col,{xs:"3",sm:"3",lg:"3",xl:"3",className:"p-0"},l.default.createElement(r.ButtonGroup,null,l.default.createElement(r.Button,{size:"sm",id:this.props.id+"button",outline:!0,onClick:this.togglePopover},l.default.createElement("i",{className:"fa fa-calendar",style:{fontSize:"16px"}})),l.default.createElement(r.Button,{size:"sm",id:this.props.id+"button",outline:!0,onClick:function(){return t.props.onChange(null)}},l.default.createElement("i",{className:"fa fa-eraser",style:{fontSize:"16px"}}))))),l.default.createElement(r.Popover,{isOpen:this.state.popoverOpened,target:this.props.id+"button",toggle:this.togglePopover,trigger:"legacy"},l.default.createElement(r.PopoverBody,{style:{fontSize:"0.7rem"}},l.default.createElement(i.default,{locale:this.props.locale,value:this.ensureDate(this.props.value),onChange:function(e){t.togglePopover(),t.props.onChange(e)}}))))}}]),e}(o.Component);e.default=d,d.propTypes={bsSize:s.default.string.isRequired,id:s.default.string,locale:s.default.string.isRequired,value:s.default.oneOfType([s.default.string,s.default.instanceOf(Date)]),onChange:s.default.func.isRequired,valid:s.default.bool.isRequired,strict:s.default.bool.isRequired,suggest:s.default.string.isRequired}},121:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),l=d(o),r=a(11),s=d(a(0)),i=d(a(12)),u=a(66);function d(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.countOnPage=10,a.state={popoverOpened:!1,popoverDescrOpened:!1,originalOptions:[],searchString:"",originalString:"",page:1,pages:1},a.onSearchChange=a.onSearchChange.bind(a),a.loadOptions=a.loadOptions.bind(a),a.createOptions=a.createOptions.bind(a),a.refreshInternal=a.refreshInternal.bind(a),a.togglePopover=a.togglePopover.bind(a),a.popoverHeader=a.popoverHeader.bind(a),a.toggleDescrPopover=a.toggleDescrPopover.bind(a),a.showButton=a.showButton.bind(a),a.pager=a.pager.bind(a),a.isStrict=a.isStrict.bind(a),a.isValid=a.isValid.bind(a),a.refreshInternal(),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"refreshInternal",value:function(){this.component=this.props.component,this.attribute=this.props.attribute,this.data=this.component.state.data}},{key:"onSearchChange",value:function(t){var e=t.target.value;e.length>=3?this.loadOptions(e):(this.state.originalOptions=[],this.state.popoverOpened=!1,this.setState(this.state),this.data[this.attribute]={value:{id:0,code:"",description:"",options:[]},warning:"",error:""},this.component.setState(this.data)),this.state.searchString=e,this.setState(this.state)}},{key:"loadOptions",value:function(t){var e=this,a={code:t};i.default.postJSONNoSpinner(this.props.api,a,(function(t,a){var n=e.state;n.originalOptions=a.options,n.page=1,n.pages=Math.round(n.originalOptions.length/e.countOnPage),0==n.pages&&(n.pages=1),n.popoverOpened=n.pages>0||n.searchString.length>0,e.setState(n)}))}},{key:"createOptions",value:function(){var t=this,e=[];if(i.default.isGoodArray(this.state.originalOptions)){var a=0;this.state.originalOptions.forEach((function(n){e.push(l.default.createElement("p",{key:a,className:"m-0 p-0"},l.default.createElement(r.Button,{style:{whiteSpace:"normal"},color:"link",size:"sm",onClick:function(){t.onSelect(n)},role:"button"},n.code," "))),a++}))}var n=(this.state.page-1)*this.countOnPage,o=n+this.countOnPage;return o>=this.state.originalOptions.length&&(o=this.state.originalOptions.length),e.slice(n,o)}},{key:"onSelect",value:function(t){(0,u.isUndefined)(t)||(this.state.searchString=t.code,this.state.popoverOpened=!1,this.setState(this.state),t.options=[],this.data[this.attribute].value=t,this.component.setState(this.data))}},{key:"togglePopover",value:function(){this.state.popoverOpened=!this.state.popoverOpened,this.state.searchString=this.data[this.attribute].value.code,this.setState(this.state)}},{key:"popoverHeader",value:function(){var t=this;if(this.state.originalString==this.state.searchString)return[];var e=l.default.createElement(r.Label,{size:"sm"},this.props.selectlabel);return 0==this.state.originalOptions.length&&(e=[]),l.default.createElement(r.PopoverHeader,null,l.default.createElement(r.Label,{size:"sm",className:"p-0"},this.props.addlabel),l.default.createElement("p",{className:"m-0 p-0"},l.default.createElement(r.Button,{style:{whiteSpace:"normal"},color:"link",size:"sm",onClick:function(){var e={id:0,code:t.state.searchString},a=t.state;a.originalOptions=[],a.popoverOpened=!1,t.setState(a),t.data[t.attribute].value=e,t.component.setState(t.data)}},this.state.searchString," ")),l.default.createElement(r.Label,{size:"sm",className:"p-0"},e))}},{key:"pager",value:function(){var t=this,e=[];return this.state.page>1?e.push(l.default.createElement(r.Col,{key:"1",className:"d-flex justify-content-start",xs:"4",sm:"4",lg:"4",xl:"4"},l.default.createElement(r.Button,{color:"link",size:"sm",onClick:function(){if(t.state.page>1){var e=t.state;e.page--,t.setState(e)}}},l.default.createElement("i",{className:"fa fa-angle-double-left fa-lg"})))):e.push(l.default.createElement(r.Col,{key:"1",xs:"4",sm:"4",lg:"4",xl:"4"})),e.push(l.default.createElement(r.Col,{key:"2",className:"d-flex justify-content-center",xs:"4",sm:"4",lg:"4",xl:"4"},this.state.page+"/"+this.state.pages)),this.state.page<this.state.pages?e.push(l.default.createElement(r.Col,{key:"3",className:"d-flex justify-content-end",xs:"4",sm:"4",lg:"4",xl:"4"},l.default.createElement(r.Button,{style:{whiteSpace:"normal"},color:"link",size:"sm",onClick:function(){if(t.state.page<t.state.pages){var e=t.state;e.page++,t.setState(e)}}},l.default.createElement("i",{className:"fa fa-angle-double-right fa-lg"})))):e.push(l.default.createElement(r.Col,{key:"3",xs:"4",sm:"4",lg:"4",xl:"4"})),e}},{key:"toggleDescrPopover",value:function(){this.state.popoverDescrOpened=!this.state.popoverDescrOpened,this.setState(this.state)}},{key:"showButton",value:function(){var t=this.data[this.attribute].description;return void 0===t||null==t||0==t.length?[]:l.default.createElement("div",null,l.default.createElement(r.Button,{size:"sm",id:this.attribute+"bdescr",outline:!0},l.default.createElement("i",{className:"fa fa-question",style:{fontSize:"16px"}})),l.default.createElement(r.Popover,{isOpen:this.state.popoverDescrOpened,target:this.attribute+"bdescr",toggle:this.toggleDescrPopover,trigger:"legacy"},l.default.createElement(r.PopoverBody,{style:{fontSize:"0.7rem"}},t)))}},{key:"isValid",value:function(){var t=this.props.component,e=this.props.attribute;return!t.state.data[e].error}},{key:"isStrict",value:function(){var t=this.props.component,e=this.props.attribute;return t.state.data[e].strict}},{key:"render",value:function(){var t=this;if(this.refreshInternal(),(0,u.isUndefined)(this.data)||(0,u.isUndefined)(this.data[this.attribute])||(0,u.isUndefined)(this.data[this.attribute].value))return[];var e=this.attribute;return this.data[e].value.code!=this.state.originalString&&(this.state.originalString=this.data[e].value.code,this.state.searchString=this.data[e].value.code),this.props.component.state.data[this.props.attribute].justloaded=!1,l.default.createElement(r.FormGroup,null,l.default.createElement(r.Label,{for:e},this.component.state.labels[e]),l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"11",sm:"11",lg:"11",xl:"11",className:"pr-0"},l.default.createElement(r.Input,{autoComplete:"off",value:this.state.searchString,id:e,onChange:function(e){t.onSearchChange(e)},bsSize:"sm",valid:this.isValid()&&this.isStrict(),invalid:!this.isValid()&&this.isStrict()}),l.default.createElement(r.FormFeedback,{valid:!1},this.data[this.attribute].suggest),l.default.createElement(r.FormText,{hidden:this.isStrict()||this.isValid()},this.data[this.attribute].suggest)),l.default.createElement(r.Col,{xs:"1",sm:"1",lg:"1",xl:"1",className:"p-0 m-0"},this.showButton())),l.default.createElement(r.Popover,{placement:"bottom",isOpen:this.state.popoverOpened,target:e,toggle:this.togglePopover,trigger:"legacy"},l.default.createElement(r.PopoverBody,null,l.default.createElement(r.Row,{style:{marginLeft:"0rem",marginRight:"0rem",marginTop:"0rem",borderBottom:"0.01rem solid gray"}},l.default.createElement(r.Col,null,this.createOptions())),l.default.createElement(r.Row,null,this.pager()))))}}]),e}(o.Component);e.default=c,c.propTypes={attribute:s.default.string.isRequired,component:s.default.object.isRequired,api:s.default.string.isRequired,addlabel:s.default.string.isRequired,selectlabel:s.default.string.isRequired}},122:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),l=h(o),r=a(11),s=(h(a(0)),h(a(18))),i=h(a(12)),u=h(a(107)),d=h(a(110)),c=h(a(109)),p=h(a(111)),f=h(a(67));function h(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={data:{id:0,applicant_country:"",manuf_name:{},justloaded:!1},index:-1,labels:{global_delete:"",global_add:"",manuf_name:"",company_type:"",applicant_country:""}},a.delete=a.delete.bind(a),a.createHeader=a.createHeader.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){s.default.resolveLabels(this),this.state.data=this.props.item,this.state.index=this.props.index,this.comparator=new f.default(this)}},{key:"componentDidUpdate",value:function(){var t=this;if(this.props.item.justloaded)this.setData(),this.state.data.justloaded=!1,this.setState(this.state);else if(null!=this.comparator){var e=this.comparator.checkChanges();e.length>0&&"manuf_name"==e&&i.default.postJSONNoSpinner("/api/common/load/company",this.state.data,(function(e,a){t.state.data=a,t.props.productForm.state.data.manufacturers[t.state.index]=t.state.data,t.comparator=new f.default(t),t.setState(t.state.data)}))}}},{key:"setData",value:function(){this.state.data=this.props.item,this.state.index=this.props.index,this.comparator=new f.default(this)}},{key:"delete",value:function(){this.props.listForm.deleteItem(this.state.index)}},{key:"createHeader",value:function(){var t=this.state.labels.global_add+" "+this.state.labels.manuf_name;return this.state.data.id>0&&(t=this.state.data.manuf_name.value.code),t}},{key:"render",value:function(){if(null==this.state.data)return[];var t=!1;return this.state.data.id>0?t=!0:-1==this.state.data.id&&(t=!0),t?l.default.createElement(r.Card,null,l.default.createElement(r.CardBody,null,l.default.createElement(r.Row,{key:this.state.data.uniqueKey},l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"9",xl:"9"},l.default.createElement(p.default,{attribute:"manuf_name",component:this,api:"/api/common/manufacturers",edit:this.props.edit})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"3",xl:"3",className:"d-flex align-items-center"},l.default.createElement(u.default,{label:this.state.labels.global_delete,onClick:this.delete,edit:this.props.edit}))),l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"6",xl:"6"},l.default.createElement(d.default,{mode:"text",attribute:"applicant_country",component:this})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"6",xl:"6"},l.default.createElement(c.default,{attribute:"company_type",component:this,hideEmpty:!1,edit:this.props.edit}))))):[]}}]),e}(o.Component);e.default=m,m.propTypes={}},128:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),l=p(o),r=a(11),s=p(a(0)),i=p(a(112)),u=p(a(117)),d=p(a(109)),c=p(a(18));function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={labels:{},data:{}},a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){this.state.data=this.props.application,c.default.createLabels(this),c.default.resolveLabels(this)}},{key:"componentDidUpdate",value:function(){this.props.application.justloaded&&(this.state.data=this.props.application,this.state.data.justloaded=!1)}},{key:"render",value:function(){return null!=this.state.data.id&&null!=this.state.labels.requested_date?l.default.createElement(r.Row,null,l.default.createElement(r.Col,null,l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"5"},l.default.createElement(u.default,{attribute:"requested_date",component:this,edit:this.props.edit})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"5"},l.default.createElement(i.default,{mode:"text",attribute:"proformaNumber",component:this,edit:this.props.edit})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"2"},l.default.createElement(d.default,{attribute:"currency",component:this,edit:this.props.edit}))),l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"3"},l.default.createElement(d.default,{attribute:"transport",component:this,edit:this.props.edit})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"4"},l.default.createElement(d.default,{attribute:"port",component:this,edit:this.props.edit})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"3"},l.default.createElement(d.default,{attribute:"custom",component:this,edit:this.props.edit})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"2"},l.default.createElement(d.default,{attribute:"incoterms",component:this,edit:this.props.edit}))),l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},l.default.createElement(i.default,{mode:"textarea",rows:"5",attribute:"remark",component:this,edit:this.props.edit}))))):[]}}]),e}(o.Component);e.default=f,f.propTypes={application:s.default.object.isRequired,edit:s.default.bool}},145:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),l=u(o),r=u(a(0)),s=a(11),i=u(a(12));function u(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n="",o=t.table.headers.headers;return i.default.isGoodArray(o)&&o.forEach((function(t){t.generalCondition.length>0&&(n=t.generalCondition)})),a.state={commonFilter:n},a.searchText=a.searchText.bind(a),a.applyFilters=a.applyFilters.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"searchText",value:function(t){var e=t.target.value,a=this.state;e.length>this.props.table.searchTreshold?this.applyFilters(e):this.state.commonFilter.length>this.props.table.searchTreshold&&this.applyFilters(e),a.commonFilter=e,this.setState(a)}},{key:"applyFilters",value:function(t){var e=this,a=this.props.table.headers;a.page=1,i.default.isGoodArray(a.headers),a.headers.forEach((function(a){a.filterAllowed&&(t.length>e.props.table.searchTreshold?a.generalCondition=t:a.generalCondition="")})),this.props.loader()}},{key:"render",value:function(){var t=this;return l.default.createElement(s.Input,{className:"form-control",id:"search_text",bsSize:"sm",placeholder:this.props.label,type:"text",name:"search_text",value:this.state.commonFilter,disabled:this.props.disabled,onChange:function(e){return t.searchText(e)}})}}]),e}(o.Component);e.default=d,d.propTypes={label:r.default.string.isRequired,table:r.default.object.isRequired,loader:r.default.func.isRequired,disabled:r.default.bool}},307:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),l=p(o),r=a(11),s=p(a(0)),i=p(a(18)),u=p(a(114)),d=p(a(308)),c=p(a(145));function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={showComponent:0,detailId:0,productDetailId:0,data:{},labels:{search:"",selectedonly:"",allfiltered:"",global_add:""}},a.currentComponent=a.currentComponent.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){i.default.resolveLabels(this),this.state.data=this.props.data,this.setState(this.state)}},{key:"componentDidUpdate",value:function(){null!=this.props.data&&this.props.data.justloaded&&(this.state.data=this.props.data,this.state.data.justloaded=!1,this.setState(this.state))}},{key:"currentComponent",value:function(){var t=this;return 0==this.state.showComponent?l.default.createElement(r.Col,null,l.default.createElement(r.Row,null,l.default.createElement(r.Col,null,l.default.createElement(u.default,{tableData:this.state.data.details,loader:this.props.loader,headBackground:"#0099cc",linkProcessor:function(e,a){var n=t.state.data.details;t.state.data.showDetails?(t.state.detailId=n.rows[e].dbID,t.state.productDetailId=-1):(t.state.productDetailId=n.rows[e].dbID,t.state.detailId=-1),t.state.showComponent=1,t.setState(t.state)},styleCorrector:function(t){if(["description","manufname"].indexOf(t)>-1)return{width:"20%"}}})))):1==this.state.showComponent?l.default.createElement(r.Col,null,l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"8",xl:"8"},l.default.createElement(u.default,{tableData:this.state.data.detailsShort,loader:this.props.loader,headBackground:"#0099cc",linkProcessor:function(e,a){var n=t.state.data.detailsShort;t.state.data.showDetails?(t.state.detailId=n.rows[e].dbID,t.state.productDetailId=-1):(t.state.productDetailId=n.rows[e].dbID,t.state.detailId=-1),t.setState(t.state)},styleCorrector:function(t){if(["description"].indexOf(t)>-1)return{width:"60%"}}})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"4",xl:"4"},l.default.createElement(d.default,{application:this.props.application,id:this.state.detailId,productId:this.state.productDetailId,cancel:function(){t.state.detailId=0,t.state.productDetailId=0,t.state.showComponent=0,t.setState(t.state)},refresh:function(){t.state.detailId=0,t.state.productDetailId=0,t.state.data.showDetails=!0,t.state.showComponent=0,t.setState(t.state),t.props.loader()}})))):2==this.state.showComponent?l.default.createElement(r.Col,null,l.default.createElement(d.default,{application:this.props.application,id:this.state.detailId,productId:this.state.productDetailId,cancel:function(){t.state.detailId=0,t.state.productDetailId=0,t.state.showComponent=0,t.setState(t.state)},refresh:function(){t.state.detailId=0,t.state.productDetailId=0,t.state.data.showDetails=!0,t.state.showComponent=0,t.setState(t.state),t.props.loader()}})):void 0}},{key:"render",value:function(){var t=this;if(null!=this.state.data&&null!=this.state.data.details&&null!=this.state.data.orderType){var e="Special"==this.props.application.orderType.value.originalCode||"medprod"==this.props.application.itemType.value.originalCode&&"Normal"==this.props.application.orderType.value.originalCode;return l.default.createElement(r.Card,{style:{fontSize:"0.8rem"}},l.default.createElement(r.CardHeader,null,l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"3",xl:"3"},l.default.createElement(c.default,{loader:this.props.loader,label:this.state.labels.search,table:this.state.data.details,disabled:this.state.showComponent>0})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"3",xl:"3",hidden:!e},l.default.createElement(r.Button,{size:"sm",outline:!0,color:"primary",disabled:this.state.showComponent>0,onClick:function(){t.state.showComponent=2,t.setState(t.state)}},this.state.labels.global_add)),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"3",xl:"3",hidden:e},l.default.createElement(r.ButtonGroup,null,l.default.createElement(r.Button,{size:"sm",outline:!0,color:"primary",active:!this.state.data.showDetails,onClick:function(){t.state.data.showDetails=!1,t.state.detailId=0,t.state.productDetailId=0,t.state.showComponent=0,t.setState(t.state),t.props.loader()}},this.state.labels.global_add),l.default.createElement(r.Button,{size:"sm",outline:!0,color:"secondary",disabled:this.state.showComponent>0,onClick:function(){t.state.data.showDetails=!0,t.state.detailId=0,t.state.productDetailId=0,t.state.showComponent=0,t.setState(t.state),t.props.loader()}},this.state.labels.selectedonly))),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"6",xl:"6"},l.default.createElement(r.Alert,{className:"p-1",isOpen:this.state.data.detailsSuggest.length>0,color:"danger"},this.state.data.detailsSuggest)))),l.default.createElement(r.CardBody,null,l.default.createElement(r.Row,null,this.currentComponent())))}return[]}}]),e}(o.Component);e.default=f,f.propTypes={application:s.default.object.isRequired,data:s.default.object.isRequired,loader:s.default.func.isRequired}},308:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),l=m(o),r=a(11),s=m(a(0)),i=m(a(18)),u=m(a(12)),d=m(a(107)),c=m(a(113)),p=m(a(9)),f=m(a(309)),h=m(a(310));function m(t){return t&&t.__esModule?t:{default:t}}var b=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={storedId:-1,storedProdId:-1,data:{},labels:{cancel:"Cancel",global_save:"",packs:"Packs",price:"Pack price:",amount:"Amount",global_delete:"",label_delete_record:""}},a.loadData=a.loadData.bind(a),a.save=a.save.bind(a),a.delete=a.delete.bind(a),a.calcAmount=a.calcAmount.bind(a),a.editable=a.editable.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){i.default.resolveLabels(this),this.state.storedProdId=this.props.productId,this.state.storedId=this.props.id,this.loadData()}},{key:"loadData",value:function(){var t=this;this.state.data.id=this.props.id,this.state.data.product={id:this.props.productId},this.state.data.ipId=this.props.application.id,this.state.storedProdId=this.props.productId,this.state.storedId=this.props.id,this.state.data.packs=void 0,u.default.postJSONNoSpinner("/api/applicant/application/detail",this.state.data,(function(e,a){t.state.data=a,t.setState(t.state)}))}},{key:"componentDidUpdate",value:function(){var t=this.state.storedId!=this.props.id,e=this.state.storedProdId!=this.props.productId;(this.props.id>0||this.props.productId>0)&&(t||e)&&(this.state.storedProdId=this.props.productId,this.state.storedId=this.props.id,this.loadData())}},{key:"save",value:function(){var t=this;u.default.postJSONNoSpinner("/api/applicant/application/detail/save",this.state.data,(function(e,a){a.valid?(t.props.cancel(),t.props.refresh()):(t.state.data=a,t.setState(t.state))}))}},{key:"delete",value:function(){var t=this;p.default.warning(this.state.labels.label_delete_record,(function(){u.default.postJSONNoSpinner("/api/applicant/application/detail/delete",t.state.data,(function(e,a){a.valid?(t.props.cancel(),t.props.refresh()):(t.state.data=a,t.setState(t.state))}))}),(function(){}))}},{key:"calcAmount",value:function(){this.state.data.amount.value=this.state.data.packs.value*this.state.data.price.value}},{key:"editable",value:function(){var t="Special"==this.props.application.orderType.value.originalCode,e="medprod"==this.props.application.itemType.value.originalCode;return t||e}},{key:"render",value:function(){if(null!=this.state.data.packs){this.calcAmount();var t=l.default.createElement(f.default,{data:this.state.data.product,edit:this.editable()});return"medprod"==this.props.application.itemType.value.originalCode&&(t=l.default.createElement(h.default,{data:this.state.data.product,edit:this.editable()})),l.default.createElement(r.Card,{className:"border border-primary shadow-lg m-3"},l.default.createElement(r.CardHeader,null,l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"11",sm:"11",lg:"12",xl:"5"},l.default.createElement("b",null,this.state.data.product.prod_name.value)),l.default.createElement(r.Col,{xs:"11",sm:"11",lg:"5",xl:"3"},l.default.createElement(d.default,{label:this.state.labels.global_save,onClick:this.save})),l.default.createElement(r.Col,{xs:"11",sm:"11",lg:"5",xl:"3"},l.default.createElement(d.default,{label:this.state.labels.global_delete,onClick:this.delete})),l.default.createElement(r.Col,{xs:"1",sm:"1",lg:"2",xl:"1",className:"p-0 m-0"},l.default.createElement(r.Button,{close:!0,onClick:this.props.cancel})))),l.default.createElement(r.CardBody,null,l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"4"},l.default.createElement(c.default,{mode:"number",attribute:"packs",component:this})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"4"},l.default.createElement(c.default,{mode:"number",attribute:"price",component:this})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"12",xl:"4"},l.default.createElement(c.default,{mode:"number",attribute:"amount",component:this,disabled:!0}))),l.default.createElement(r.Row,null,l.default.createElement(r.Col,null,t))))}return[]}}]),e}(o.Component);e.default=b,b.propTypes={application:s.default.object.isRequired,id:s.default.number.isRequired,productId:s.default.number.isRequired,cancel:s.default.func.isRequired,refresh:s.default.func.isRequired}},309:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),l=p(o),r=p(a(0)),s=a(11),i=p(a(18)),u=p(a(112)),d=p(a(109)),c=p(a(119));function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={data:{},labels:{}},a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){this.state.data=this.props.data,this.state.data.justloaded=!1,this.setState(this.state),i.default.createLabels(this),i.default.resolveLabels(this)}},{key:"componentDidUpdate",value:function(){this.props.data.justloaded&&(this.state.data=this.props.data,this.state.data.justloaded=!1,this.setState(this.state))}},{key:"render",value:function(){return null!=this.state.labels.locale&&null!=this.state.data.prod_name?l.default.createElement(s.Container,{fluid:!0},l.default.createElement(s.Row,null,l.default.createElement(s.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},l.default.createElement(u.default,{mode:"text",attribute:"prod_name",component:this,edit:this.props.edit}))),l.default.createElement(s.Row,{xs:12,sm:12,lg:12,xl:12,style:{marginTop:"10px"}},l.default.createElement(s.Col,null,l.default.createElement(c.default,{productForm:this,edit:this.props.edit,noadd:!0}))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{xs:12,sm:12,lg:12,xl:12},l.default.createElement(d.default,{attribute:"dos_form",component:this,edit:this.props.edit}))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{xs:12,sm:12,lg:12,xl:8},l.default.createElement(u.default,{mode:"text",attribute:"product_conttype",component:this,edit:this.props.edit})),l.default.createElement(s.Col,{xs:12,sm:12,lg:12,xl:4},l.default.createElement(u.default,{mode:"text",attribute:"product_packsize",component:this,edit:this.props.edit}))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{xs:12,sm:12,lg:12,xl:8},l.default.createElement(u.default,{mode:"text",attribute:"dos_strength",component:this,edit:this.props.edit})),l.default.createElement(s.Col,{xs:12,sm:12,lg:12,xl:4},l.default.createElement(d.default,{attribute:"dos_unit",component:this,edit:this.props.edit}))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{xs:12,sm:6,lg:3,xl:3},l.default.createElement(d.default,{attribute:"narc",component:this,edit:this.props.edit})),l.default.createElement(s.Col,{xs:12,sm:6,lg:3,xl:3},l.default.createElement(d.default,{attribute:"prescr",component:this,edit:this.props.edit})),l.default.createElement(s.Col,{xs:12,sm:6,lg:3,xl:3},l.default.createElement(d.default,{attribute:"hospital",component:this,edit:this.props.edit})),l.default.createElement(s.Col,{xs:12,sm:6,lg:3,xl:3},l.default.createElement(d.default,{attribute:"otc",component:this,edit:this.props.edit})))):[]}}]),e}(o.Component);e.default=f,f.propTypes={data:r.default.object.isRequired,edit:r.default.bool}},310:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),l=c(o),r=c(a(0)),s=a(11),i=c(a(18)),u=c(a(112)),d=c(a(119));function c(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={data:{},labels:{}},a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){this.state.data=this.props.data,this.state.data.justloaded=!1,this.setState(this.state),i.default.createLabels(this),i.default.resolveLabels(this)}},{key:"componentDidUpdate",value:function(){this.props.data.justloaded&&(this.state.data=this.props.data,this.state.data.justloaded=!1,this.setState(this.state))}},{key:"render",value:function(){return null!=this.state.labels.locale&&null!=this.state.data.prod_name?l.default.createElement(s.Container,{fluid:!0},l.default.createElement(s.Row,null,l.default.createElement(s.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},l.default.createElement(u.default,{mode:"text",attribute:"prod_name",component:this,edit:this.props.edit}))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,null,l.default.createElement(u.default,{mode:"textarea",rows:"4",attribute:"medical_product",component:this,edit:this.props.edit}))),l.default.createElement(s.Row,{xs:12,sm:12,lg:12,xl:12,style:{marginTop:"10px"}},l.default.createElement(s.Col,null,l.default.createElement(d.default,{productForm:this,edit:this.props.edit,noadd:!0}))),l.default.createElement(s.Row,null,l.default.createElement(s.Col,{xs:12,sm:12,lg:12,xl:8},l.default.createElement(u.default,{mode:"text",attribute:"product_conttype",component:this,edit:this.props.edit})),l.default.createElement(s.Col,{xs:12,sm:12,lg:12,xl:4},l.default.createElement(u.default,{mode:"text",attribute:"product_packsize",component:this,edit:this.props.edit})))):[]}}]),e}(o.Component);e.default=p,p.propTypes={data:r.default.object.isRequired,edit:r.default.bool}},67:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}();var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e.state.data,null!=this.data?this.copy=this.cloneIt(this.data):(this.data={},this.copy={}),this.cloneIt=this.cloneIt.bind(this),this.checkChanges=this.checkChanges.bind(this),this.compareFldValues=this.compareFldValues.bind(this)}return n(t,[{key:"checkChanges",value:function(){for(var t in this.copy)if(null!=this.copy[t]&&null!=this.copy[t].value&&!this.compareFldValues(this.copy[t].value,this.data[t].value))return this.copy=this.cloneIt(this.data),t;return""}},{key:"compareFldValues",value:function(t,e){return null==t.id?t==e:t.id==e.id}},{key:"cloneIt",value:function(t){var e=JSON.stringify(t);return JSON.parse(e)}}]),t}();e.default=o},93:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),l=h(o),r=a(11),s=h(a(0)),i=h(a(18)),u=h(a(12)),d=h(a(307)),c=h(a(107)),p=h(a(27)),f=h(a(128));function h(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={status:"",alertColor:"info",labels:{locale:"",askforpermit:"",editpip:"",orderType:"",cancel:"",saveasdraft:"",saving:"",saved:"",checkbeforesubmit:"",pleasefix:"",quotas:"",global_delete:""},data:{id:0,valid:!0,detailsSuggest:""}},a.loadData=a.loadData.bind(a),a.cancel=a.cancel.bind(a),a.save=a.save.bind(a),a.title=a.title.bind(a),a.submit=a.submit.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){i.default.resolveLabels(this),this.loadData()}},{key:"loadData",value:function(){var t=this;this.state.data.id=this.props.appId,u.default.postJSON("/api/applicant/application/open",this.state.data,(function(e,a){"APPLICATIONFORM"==a.navigator.component.toUpperCase()?(t.state.data=a,t.setState(t.state)):p.default.navigate(a.navigator.tab,a.navigator.component,a.navigator.params)}))}},{key:"cancel",value:function(){p.default.navigate("applications","applications")}},{key:"save",value:function(){var t=this;this.state.status=this.state.labels.saving,this.setState(this.state),u.default.postJSON("/api/applicant/application/save",this.state.data,(function(e,a){t.state.data=a;var n=new Date(t.state.data.lastSaved);t.state.alertColor="info",t.state.status=t.state.labels.saved+" "+n.toLocaleString(t.state.labels.locale),t.setState(t.state.data)}))}},{key:"title",value:function(){return null==this.state.data.pipNumber.value?this.state.labels.askforpermit:this.state.labels.askforpermit+" "+this.state.data.pipNumber.value}},{key:"submit",value:function(){var t=this;this.state.status=this.state.labels.saving,this.setState(this.state),u.default.postJSON("/api/applicant/application/verify",this.state.data,(function(e,a){t.state.data=a,t.setState(t.state);var n=new Date(t.state.data.lastSaved);t.state.data.valid?(t.state.status="",t.state.alertColor="info",p.default.navigate("applications","ApplicationSubmit",""+t.state.data.id)):(t.state.status=t.state.labels.pleasefix+" "+n.toLocaleString(t.state.labels.locale),t.state.alertColor="danger"),t.setState(t.state)}))}},{key:"detailsForm",value:function(){return(this.state.data.orderType.value="Normal")?l.default.createElement(d.default,{applicationForm:this,loader:this.loadData}):l.default.createElement("h2",null,"Unrecognized order type")}},{key:"render",value:function(){var t=this;return null!=this.state.data.details&&null!=this.state.labels.locale?l.default.createElement(r.Card,{className:"border border-primary shadow-lg m-3",style:{fontSize:"0.8rem"}},l.default.createElement(r.CardHeader,null,l.default.createElement(r.Row,null,l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"3",xl:"3",className:"text-center"},l.default.createElement("h6",null,this.title()+"("+this.state.data.orderType.value.code+")")),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"2",xl:"2"},l.default.createElement(r.Alert,{className:"p-1",isOpen:this.state.status.length>0,color:this.state.alertColor},this.state.status)),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"2",xl:"2"},l.default.createElement(c.default,{onClick:this.submit,label:this.state.labels.checkbeforesubmit,outline:!1})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"2",xl:"2"},l.default.createElement(c.default,{onClick:this.save,label:this.state.labels.saveasdraft})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"2",xl:"2"},l.default.createElement(c.default,{onClick:function(){u.default.postJSON("/api/applicant/application/delete",t.state.data,(function(e,a){a.valid?p.default.navigate("applications","applicationTrack",t.state.data.id+""):(t.state.data=a,t.state.alertColor="danger",t.setState(t.state))}))},label:this.state.labels.global_delete})),l.default.createElement(r.Col,{xs:"12",sm:"12",lg:"1",xl:"1",className:"text-right"},l.default.createElement(r.Button,{close:!0,onClick:this.cancel})))),l.default.createElement(r.CardBody,null,l.default.createElement(f.default,{application:this.state.data,edit:!0}),l.default.createElement(r.Row,null,l.default.createElement(r.Col,{className:"d-flex justify-content-end"},l.default.createElement("h6",null,this.state.labels.quotas+": "+this.state.data.details.totalAmount.value+" "+this.state.data.currency.value.code))),l.default.createElement(r.Row,{className:"pl-3 pr-3"},l.default.createElement(r.Col,null,l.default.createElement(d.default,{application:this.state.data,data:this.state.data.details,loader:this.save}))))):[]}}]),e}(o.Component);e.default=m,m.propTypes={appId:s.default.string.isRequired}}}]);