(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{111:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),r=u(o),s=u(a(0)),l=u(a(121)),i=u(a(110));function u(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"render",value:function(){return this.props.edit?r.default.createElement(l.default,{attribute:this.props.attribute,api:this.props.api,component:this.props.component,addlabel:"",selectlabel:""}):r.default.createElement(i.default,{mode:"text",attribute:this.props.attribute,component:this.props.component,hideEmpty:this.props.hideEmpty})}}]),e}(o.Component);e.default=d,d.propTypes={attribute:s.default.string.isRequired,component:s.default.object.isRequired,api:s.default.string.isRequired,edit:s.default.bool,hideEmpty:s.default.bool}},115:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),r=u(o),s=a(11),l=u(a(0)),i=u(a(120));function u(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.isValid=a.isValid.bind(a),a.isStrict=a.isStrict.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"isValid",value:function(){var t=this.props.component,e=this.props.attribute;return!t.state.data[e].error}},{key:"isStrict",value:function(){var t=this.props.component,e=this.props.attribute;return t.state.data[e].strict}},{key:"render",value:function(){var t=this.props.component,e=this.props.attribute;return void 0!==t.state.data&&void 0!==t.state.data[e]?(t.state.data[e].justloaded=!1,r.default.createElement(s.FormGroup,null,r.default.createElement(s.Label,{for:e},t.state.labels[e]),r.default.createElement(i.default,{bsSize:"sm",id:e,locale:t.state.labels.locale,valid:this.isValid(),strict:this.isStrict(),suggest:t.state.data[e].suggest,value:t.state.data[e].value,onChange:function(a){if(a instanceof Date){var n="0"+(a.getMonth()+1),o="0"+a.getDate(),r=a.getFullYear()+"-"+n.substr(-2)+"-"+o.substr(-2),s=t.state;s.data[e].value=r,t.setState(s)}else if(null==a){var l=t.state;l.data[e].value=null,l.popoverOpened=!1,t.setState(l)}}}))):[]}}]),e}(o.Component);e.default=d,d.propTypes={attribute:l.default.string.isRequired,component:l.default.object.isRequired}},117:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),r=u(o),s=u(a(0)),l=u(a(115)),i=u(a(110));function u(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"render",value:function(){return this.props.edit?r.default.createElement(l.default,{attribute:this.props.attribute,component:this.props.component}):r.default.createElement(i.default,{mode:"date",attribute:this.props.attribute,component:this.props.component})}}]),e}(o.Component);e.default=d,d.propTypes={attribute:s.default.string.isRequired,component:s.default.object.isRequired,edit:s.default.bool}},119:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),r=y(o),s=a(11),l=y(a(0)),i=y(a(18)),u=y(a(12)),d=y(a(122)),c=y(a(107)),p=y(a(67)),f=y(a(109)),h=y(a(110)),m=y(a(113)),b=y(a(111));function y(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={manufs:[],data:{id:0,applicant_country:"",manuf_name:{},notfound:!1},prodId:0,labels:{manufacturer_detail:"",global_add:"",manuf_name:"",company_type:"",applicant_country:"",btn_not_found:"",othermanufname:""}},a.add=a.add.bind(a),a.deleteItem=a.deleteItem.bind(a),a.setData=a.setData.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){i.default.resolveLabels(this),this.setData(),this.state.prodId=this.props.productForm.state.data.id,this.comparator=new p.default(this),this.setState(this.state)}},{key:"componentDidUpdate",value:function(){var t=this;if(this.state.prodId!=this.props.productForm.state.data.id)this.setData(),this.state.prodId=this.props.productForm.state.data.id,this.state.manufs.justloaded=!1,this.setState(this.state);else if(this.state.data.manuf_name.value.code.length>=3&&null!=this.comparator){var e=this.comparator.checkChanges();e.length>0&&"manuf_name"==e&&(-1==this.state.data.manuf_name.value.id?(this.state.data.notfound=!0,this.setState(this.state)):u.default.postJSONNoSpinner("/api/common/load/company",this.state.data,(function(e,a){t.state.data=a,t.props.productForm.state.data.finProdManuf=t.state.data,t.comparator=new p.default(t),t.setState(t.state.data)})))}}},{key:"setData",value:function(){this.state.manufs=this.props.productForm.state.data.manufacturers,this.state.data=this.props.productForm.state.data.finProdManuf,this.comparator=new p.default(this)}},{key:"add",value:function(){var t=this;u.default.postJSONNoSpinner("/api/common/manufs/add",this.state.manufs,(function(e,a){t.state.manufs=a,t.props.productForm.state.data.manufacturers=t.state.manufs,t.comparator=new p.default(t),t.props.productForm.setState(t.props.productForm.state)}))}},{key:"deleteItem",value:function(t){if(!(t<0)&&u.default.isGoodArray(this.state.manufs)){var e=[],a=0;this.state.manufs.forEach((function(n){a!=t&&e.push(n),a+=1})),this.state.manufs=e,this.props.productForm.state.data.manufacturers=this.state.manufs,this.props.productForm.setState(this.props.productForm.state)}}},{key:"paintFinishProdComp",value:function(){return this.state.data.notfound?r.default.createElement(s.Row,{key:"finishedproductmanuf"},r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},r.default.createElement(s.Card,null,r.default.createElement(s.CardBody,null,r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},r.default.createElement(b.default,{attribute:"manuf_name",component:this,api:"/api/common/manufacturers",edit:this.props.edit}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},r.default.createElement(m.default,{mode:"text",attribute:"othermanufname",component:this}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"6",xl:"6"},r.default.createElement(f.default,{attribute:"applicant_country",component:this,edit:!0})),r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"6",xl:"6"},r.default.createElement(h.default,{mode:"text",attribute:"company_type",component:this}))))))):r.default.createElement(s.Row,{key:"finishedproductmanuf"},r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},r.default.createElement(s.Card,null,r.default.createElement(s.CardBody,null,r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},r.default.createElement(b.default,{attribute:"manuf_name",component:this,api:"/api/common/manufacturers",edit:this.props.edit}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"6",xl:"6"},r.default.createElement(h.default,{mode:"text",attribute:"applicant_country",component:this})),r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"6",xl:"6"},r.default.createElement(h.default,{mode:"text",attribute:"company_type",component:this})))))))}},{key:"paintComponents",value:function(){var t=this,e=[];if(e.push(this.paintFinishProdComp()),u.default.isGoodArray(this.state.manufs)){var a=0;this.state.manufs.forEach((function(n){e.push(r.default.createElement(s.Row,{key:n.uniqueKey+a,style:{marginTop:"10px"}},r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},r.default.createElement(d.default,{item:n,index:a,productForm:t.props.productForm,listForm:t,edit:t.props.edit})))),a+=1}))}return e}},{key:"render",value:function(){return null!=this.state.labels.locale?this.props.noadd||!this.props.edit?this.paintComponents():r.default.createElement(s.Card,null,r.default.createElement(s.CardHeader,null,r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:"12",sm:"9",lg:"9",xl:"9",className:"d-flex justify-content-center"},r.default.createElement("b",null,this.state.labels.manufacturer_detail)),r.default.createElement(s.Col,{xs:"12",sm:"3",lg:"3",xl:"3",className:"d-flex justify-content-end",hidden:this.props.noadd},r.default.createElement(c.default,{label:this.state.labels.global_add,onClick:this.add,edit:this.props.edit})))),r.default.createElement(s.CardBody,null,this.paintComponents())):[]}}]),e}(o.Component);e.default=v,v.propTypes={productForm:l.default.object.isRequired,noadd:l.default.bool}},120:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),r=u(o),s=a(11),l=u(a(0)),i=u(a(142));function u(t){return t&&t.__esModule?t:{default:t}}a(140);var d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={popoverOpened:!1,labels:{}},a.togglePopover=a.togglePopover.bind(a),a.ensureDate=a.ensureDate.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"togglePopover",value:function(){var t=this.state;t.popoverOpened=!t.popoverOpened,this.setState(t)}},{key:"ensureDate",value:function(t){if(void 0===t)return new Date;if(null==t)return new Date;if(t instanceof Date)return t;if("string"==typeof t){var e=new Date(t);return isNaN(e)?new Date:e}return new Date}},{key:"ensureDateAsString",value:function(t){if(void 0===t)return new Date;if(t instanceof Date)return t.toLocaleDateString(this.props.locale);if("string"==typeof t){var e=new Date(t);return isNaN(e)?"":e.toLocaleDateString(this.props.locale)}return""}},{key:"render",value:function(){var t=this;return r.default.createElement("div",null,r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:"9",sm:"9",lg:"9",xl:"9",className:"pr-0"},r.default.createElement(s.Input,{type:"text",bsSize:this.props.bsSize,id:this.props.id,value:this.ensureDateAsString(this.props.value),onClick:this.togglePopover,readOnly:!0,valid:this.props.valid&&this.props.strict,invalid:!this.props.valid&&this.props.strict}),r.default.createElement(s.FormFeedback,{valid:!1},this.props.suggest),r.default.createElement(s.FormText,{hidden:this.props.strict||this.props.valid},this.props.suggest)),r.default.createElement(s.Col,{xs:"3",sm:"3",lg:"3",xl:"3",className:"p-0"},r.default.createElement(s.ButtonGroup,null,r.default.createElement(s.Button,{size:"sm",id:this.props.id+"button",outline:!0,onClick:this.togglePopover},r.default.createElement("i",{className:"fa fa-calendar",style:{fontSize:"16px"}})),r.default.createElement(s.Button,{size:"sm",id:this.props.id+"button",outline:!0,onClick:function(){return t.props.onChange(null)}},r.default.createElement("i",{className:"fa fa-eraser",style:{fontSize:"16px"}}))))),r.default.createElement(s.Popover,{isOpen:this.state.popoverOpened,target:this.props.id+"button",toggle:this.togglePopover,trigger:"legacy"},r.default.createElement(s.PopoverBody,{style:{fontSize:"0.7rem"}},r.default.createElement(i.default,{locale:this.props.locale,value:this.ensureDate(this.props.value),onChange:function(e){t.togglePopover(),t.props.onChange(e)}}))))}}]),e}(o.Component);e.default=d,d.propTypes={bsSize:l.default.string.isRequired,id:l.default.string,locale:l.default.string.isRequired,value:l.default.oneOfType([l.default.string,l.default.instanceOf(Date)]),onChange:l.default.func.isRequired,valid:l.default.bool.isRequired,strict:l.default.bool.isRequired,suggest:l.default.string.isRequired}},121:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),r=d(o),s=a(11),l=d(a(0)),i=d(a(12)),u=a(66);function d(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.countOnPage=10,a.state={popoverOpened:!1,popoverDescrOpened:!1,originalOptions:[],searchString:"",originalString:"",page:1,pages:1},a.onSearchChange=a.onSearchChange.bind(a),a.loadOptions=a.loadOptions.bind(a),a.createOptions=a.createOptions.bind(a),a.refreshInternal=a.refreshInternal.bind(a),a.togglePopover=a.togglePopover.bind(a),a.popoverHeader=a.popoverHeader.bind(a),a.toggleDescrPopover=a.toggleDescrPopover.bind(a),a.showButton=a.showButton.bind(a),a.pager=a.pager.bind(a),a.isStrict=a.isStrict.bind(a),a.isValid=a.isValid.bind(a),a.refreshInternal(),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"refreshInternal",value:function(){this.component=this.props.component,this.attribute=this.props.attribute,this.data=this.component.state.data}},{key:"onSearchChange",value:function(t){var e=t.target.value;e.length>=3?this.loadOptions(e):(this.state.originalOptions=[],this.state.popoverOpened=!1,this.setState(this.state),this.data[this.attribute]={value:{id:0,code:"",description:"",options:[]},warning:"",error:""},this.component.setState(this.data)),this.state.searchString=e,this.setState(this.state)}},{key:"loadOptions",value:function(t){var e=this,a={code:t};i.default.postJSONNoSpinner(this.props.api,a,(function(t,a){var n=e.state;n.originalOptions=a.options,n.page=1,n.pages=Math.round(n.originalOptions.length/e.countOnPage),0==n.pages&&(n.pages=1),n.popoverOpened=n.pages>0||n.searchString.length>0,e.setState(n)}))}},{key:"createOptions",value:function(){var t=this,e=[];if(i.default.isGoodArray(this.state.originalOptions)){var a=0;this.state.originalOptions.forEach((function(n){e.push(r.default.createElement("p",{key:a,className:"m-0 p-0"},r.default.createElement(s.Button,{style:{whiteSpace:"normal"},color:"link",size:"sm",onClick:function(){t.onSelect(n)},role:"button"},n.code," "))),a++}))}var n=(this.state.page-1)*this.countOnPage,o=n+this.countOnPage;return o>=this.state.originalOptions.length&&(o=this.state.originalOptions.length),e.slice(n,o)}},{key:"onSelect",value:function(t){(0,u.isUndefined)(t)||(this.state.searchString=t.code,this.state.popoverOpened=!1,this.setState(this.state),t.options=[],this.data[this.attribute].value=t,this.component.setState(this.data))}},{key:"togglePopover",value:function(){this.state.popoverOpened=!this.state.popoverOpened,this.state.searchString=this.data[this.attribute].value.code,this.setState(this.state)}},{key:"popoverHeader",value:function(){var t=this;if(this.state.originalString==this.state.searchString)return[];var e=r.default.createElement(s.Label,{size:"sm"},this.props.selectlabel);return 0==this.state.originalOptions.length&&(e=[]),r.default.createElement(s.PopoverHeader,null,r.default.createElement(s.Label,{size:"sm",className:"p-0"},this.props.addlabel),r.default.createElement("p",{className:"m-0 p-0"},r.default.createElement(s.Button,{style:{whiteSpace:"normal"},color:"link",size:"sm",onClick:function(){var e={id:0,code:t.state.searchString},a=t.state;a.originalOptions=[],a.popoverOpened=!1,t.setState(a),t.data[t.attribute].value=e,t.component.setState(t.data)}},this.state.searchString," ")),r.default.createElement(s.Label,{size:"sm",className:"p-0"},e))}},{key:"pager",value:function(){var t=this,e=[];return this.state.page>1?e.push(r.default.createElement(s.Col,{key:"1",className:"d-flex justify-content-start",xs:"4",sm:"4",lg:"4",xl:"4"},r.default.createElement(s.Button,{color:"link",size:"sm",onClick:function(){if(t.state.page>1){var e=t.state;e.page--,t.setState(e)}}},r.default.createElement("i",{className:"fa fa-angle-double-left fa-lg"})))):e.push(r.default.createElement(s.Col,{key:"1",xs:"4",sm:"4",lg:"4",xl:"4"})),e.push(r.default.createElement(s.Col,{key:"2",className:"d-flex justify-content-center",xs:"4",sm:"4",lg:"4",xl:"4"},this.state.page+"/"+this.state.pages)),this.state.page<this.state.pages?e.push(r.default.createElement(s.Col,{key:"3",className:"d-flex justify-content-end",xs:"4",sm:"4",lg:"4",xl:"4"},r.default.createElement(s.Button,{style:{whiteSpace:"normal"},color:"link",size:"sm",onClick:function(){if(t.state.page<t.state.pages){var e=t.state;e.page++,t.setState(e)}}},r.default.createElement("i",{className:"fa fa-angle-double-right fa-lg"})))):e.push(r.default.createElement(s.Col,{key:"3",xs:"4",sm:"4",lg:"4",xl:"4"})),e}},{key:"toggleDescrPopover",value:function(){this.state.popoverDescrOpened=!this.state.popoverDescrOpened,this.setState(this.state)}},{key:"showButton",value:function(){var t=this.data[this.attribute].description;return void 0===t||null==t||0==t.length?[]:r.default.createElement("div",null,r.default.createElement(s.Button,{size:"sm",id:this.attribute+"bdescr",outline:!0},r.default.createElement("i",{className:"fa fa-question",style:{fontSize:"16px"}})),r.default.createElement(s.Popover,{isOpen:this.state.popoverDescrOpened,target:this.attribute+"bdescr",toggle:this.toggleDescrPopover,trigger:"legacy"},r.default.createElement(s.PopoverBody,{style:{fontSize:"0.7rem"}},t)))}},{key:"isValid",value:function(){var t=this.props.component,e=this.props.attribute;return!t.state.data[e].error}},{key:"isStrict",value:function(){var t=this.props.component,e=this.props.attribute;return t.state.data[e].strict}},{key:"render",value:function(){var t=this;if(this.refreshInternal(),(0,u.isUndefined)(this.data)||(0,u.isUndefined)(this.data[this.attribute])||(0,u.isUndefined)(this.data[this.attribute].value))return[];var e=this.attribute;return this.data[e].value.code!=this.state.originalString&&(this.state.originalString=this.data[e].value.code,this.state.searchString=this.data[e].value.code),this.props.component.state.data[this.props.attribute].justloaded=!1,r.default.createElement(s.FormGroup,null,r.default.createElement(s.Label,{for:e},this.component.state.labels[e]),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:"11",sm:"11",lg:"11",xl:"11",className:"pr-0"},r.default.createElement(s.Input,{autoComplete:"off",value:this.state.searchString,id:e,onChange:function(e){t.onSearchChange(e)},bsSize:"sm",valid:this.isValid()&&this.isStrict(),invalid:!this.isValid()&&this.isStrict()}),r.default.createElement(s.FormFeedback,{valid:!1},this.data[this.attribute].suggest),r.default.createElement(s.FormText,{hidden:this.isStrict()||this.isValid()},this.data[this.attribute].suggest)),r.default.createElement(s.Col,{xs:"1",sm:"1",lg:"1",xl:"1",className:"p-0 m-0"},this.showButton())),r.default.createElement(s.Popover,{placement:"bottom",isOpen:this.state.popoverOpened,target:e,toggle:this.togglePopover,trigger:"legacy"},r.default.createElement(s.PopoverBody,null,r.default.createElement(s.Row,{style:{marginLeft:"0rem",marginRight:"0rem",marginTop:"0rem",borderBottom:"0.01rem solid gray"}},r.default.createElement(s.Col,null,this.createOptions())),r.default.createElement(s.Row,null,this.pager()))))}}]),e}(o.Component);e.default=c,c.propTypes={attribute:l.default.string.isRequired,component:l.default.object.isRequired,api:l.default.string.isRequired,addlabel:l.default.string.isRequired,selectlabel:l.default.string.isRequired}},122:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),r=h(o),s=a(11),l=(h(a(0)),h(a(18))),i=h(a(12)),u=h(a(107)),d=h(a(110)),c=h(a(109)),p=h(a(111)),f=h(a(67));function h(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={data:{id:0,applicant_country:"",manuf_name:{},justloaded:!1},index:-1,labels:{global_delete:"",global_add:"",manuf_name:"",company_type:"",applicant_country:""}},a.delete=a.delete.bind(a),a.createHeader=a.createHeader.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){l.default.resolveLabels(this),this.state.data=this.props.item,this.state.index=this.props.index,this.comparator=new f.default(this)}},{key:"componentDidUpdate",value:function(){var t=this;if(this.props.item.justloaded)this.setData(),this.state.data.justloaded=!1,this.setState(this.state);else if(null!=this.comparator){var e=this.comparator.checkChanges();e.length>0&&"manuf_name"==e&&i.default.postJSONNoSpinner("/api/common/load/company",this.state.data,(function(e,a){t.state.data=a,t.props.productForm.state.data.manufacturers[t.state.index]=t.state.data,t.comparator=new f.default(t),t.setState(t.state.data)}))}}},{key:"setData",value:function(){this.state.data=this.props.item,this.state.index=this.props.index,this.comparator=new f.default(this)}},{key:"delete",value:function(){this.props.listForm.deleteItem(this.state.index)}},{key:"createHeader",value:function(){var t=this.state.labels.global_add+" "+this.state.labels.manuf_name;return this.state.data.id>0&&(t=this.state.data.manuf_name.value.code),t}},{key:"render",value:function(){if(null==this.state.data)return[];var t=!1;return this.state.data.id>0?t=!0:-1==this.state.data.id&&(t=!0),t?r.default.createElement(s.Card,null,r.default.createElement(s.CardBody,null,r.default.createElement(s.Row,{key:this.state.data.uniqueKey},r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"9",xl:"9"},r.default.createElement(p.default,{attribute:"manuf_name",component:this,api:"/api/common/manufacturers",edit:this.props.edit})),r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"3",xl:"3",className:"d-flex align-items-center"},r.default.createElement(u.default,{label:this.state.labels.global_delete,onClick:this.delete,edit:this.props.edit}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"6",xl:"6"},r.default.createElement(d.default,{mode:"text",attribute:"applicant_country",component:this})),r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"6",xl:"6"},r.default.createElement(c.default,{attribute:"company_type",component:this,hideEmpty:!1,edit:this.props.edit}))))):[]}}]),e}(o.Component);e.default=m,m.propTypes={}},124:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),r=p(o),s=a(11),l=p(a(0)),i=p(a(18)),u=p(a(12)),d=p(a(109)),c=p(a(67));function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={data:{},labels:{atc:""}},a.isEmpty=a.isEmpty.bind(a),a.atc_1=a.atc_1.bind(a),a.atc_2=a.atc_2.bind(a),a.atc_3=a.atc_3.bind(a),a.atc_4=a.atc_4.bind(a),a.atc_5=a.atc_5.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){i.default.resolveLabels(this),this.state.data=this.props.data[this.props.property][0],this.comparator=new c.default(this),this.setState(this.state)}},{key:"componentDidUpdate",value:function(){this.state.data=this.props.data[this.props.property][0],this.state.data.justloaded&&(this.state.data.justloaded=!1,this.comparator=new c.default(this),this.setState(this.state));var t=this.comparator.checkChanges();t.length>0&&this.tryReload(t)}},{key:"tryReload",value:function(t){var e=this,a=t.slice(-1),n="atc_".concat(a),o=this.state.data[n];null!=o&&(this.isEmpty(o)||u.default.postJSON("/api/public/atcs",this.state.data,(function(t,a){e.props.data[e.props.property][0]=a,e.state.data=e.props.data[e.props.property][0],e.comparator=new c.default(e),e.setState(e.state.data)})))}},{key:"isEmpty",value:function(t){return null==t.value||!(u.default.isGoodArray(t.value.options)||t.value.id>0)}},{key:"atc_1",value:function(){if(!this.isEmpty(this.state.data.atc_1))return r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"4",xl:"4"},r.default.createElement(d.default,{attribute:"atc_1",component:this,edit:this.props.edit}))}},{key:"atc_2",value:function(){if(!this.isEmpty(this.state.data.atc_2))return r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"4",xl:"4"},r.default.createElement(d.default,{attribute:"atc_2",component:this,edit:this.props.edit}))}},{key:"atc_3",value:function(){if(!this.isEmpty(this.state.data.atc_3))return r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"4",xl:"4"},r.default.createElement(d.default,{attribute:"atc_3",component:this,edit:this.props.edit}))}},{key:"atc_4",value:function(){if(!this.isEmpty(this.state.data.atc_4))return r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"4",xl:"4"},r.default.createElement(d.default,{attribute:"atc_4",component:this,edit:this.props.edit}))}},{key:"atc_5",value:function(){if(!this.isEmpty(this.state.data.atc_5))return r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"4",xl:"4"},r.default.createElement(d.default,{attribute:"atc_5",component:this,edit:this.props.edit}))}},{key:"render",value:function(){return null==this.state.data.atc_1?[]:this.props.edit||""!=this.state.data.atc_2.value.code?r.default.createElement(s.Container,{fluid:!0},r.default.createElement(s.FormGroup,null,r.default.createElement(s.Label,{for:this.props.property}," ",this.state.labels[this.props.property]),r.default.createElement(s.Row,null,this.atc_1(),this.atc_2(),this.atc_3()),r.default.createElement(s.Row,null,this.atc_4(),this.atc_5()))):[]}}]),e}(o.Component);e.default=f,f.propTypes={data:l.default.object.isRequired,property:l.default.string.isRequired,edit:l.default.bool}},125:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),r=f(o),s=a(11),l=f(a(0)),i=f(a(18)),u=f(a(12)),d=f(a(126)),c=f(a(127)),p=f(a(107));function f(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={data:[],prodId:0,labels:{active_substance:"",product_active:"",global_add:""}},a.add=a.add.bind(a),a.deleteItem=a.deleteItem.bind(a),a.buildHeader=a.buildHeader.bind(a),a.setData=a.setData.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){i.default.resolveLabels(this),this.setData(),this.state.prodId=this.props.productForm.state.data.id,this.setState(this.state)}},{key:"componentDidUpdate",value:function(){this.setData(),this.state.prodId!=this.props.productForm.state.data.id&&(this.state.prodId=this.props.productForm.state.data.id,this.state.data.justloaded=!1,this.setState(this.state))}},{key:"setData",value:function(){this.props.isInn?this.state.data=this.props.productForm.state.data.inns:this.state.data=this.props.productForm.state.data.excipients}},{key:"add",value:function(){var t=this;this.props.isInn?u.default.postJSONNoSpinner("/api/common/inns/add",this.state.data,(function(e,a){t.state.data=a,t.props.productForm.state.data.inns=t.state.data,t.props.productForm.setState(t.props.productForm.state)})):u.default.postJSONNoSpinner("/api/common/excs/add",this.state.data,(function(e,a){t.state.data=a,t.props.productForm.state.data.excipients=t.state.data,t.props.productForm.setState(t.props.productForm.state)}))}},{key:"deleteItem",value:function(t){if(!(t<0)&&u.default.isGoodArray(this.state.data)){var e=[],a=0;this.state.data.forEach((function(n){a!=t&&e.push(n),a+=1})),this.state.data=e,this.props.isInn?this.props.productForm.state.data.inns=this.state.data:this.props.productForm.state.data.excipients=this.state.data,this.props.productForm.setState(this.props.productForm.state)}}},{key:"paintComponents",value:function(){return this.props.isInn?this.paintInnsList():this.paintExcsList()}},{key:"paintInnsList",value:function(){var t=this;if(u.default.isGoodArray(this.state.data)){var e=[],a=0;return this.state.data.forEach((function(n){0==a?e.push(r.default.createElement(s.Row,{key:n.uniqueKey},r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},r.default.createElement(d.default,{item:n,index:a,productForm:t.props.productForm,listForm:t,edit:t.props.edit})))):e.push(r.default.createElement(s.Row,{key:n.uniqueKey,style:{marginTop:"10px"}},r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},r.default.createElement(d.default,{item:n,index:a,productForm:t.props.productForm,listForm:t,edit:t.props.edit})))),a+=1})),e}return[]}},{key:"paintExcsList",value:function(){var t=this;if(u.default.isGoodArray(this.state.data)){var e=[],a=0;return this.state.data.forEach((function(n){0==a?e.push(r.default.createElement(s.Row,{key:n.uniqueKey},r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},r.default.createElement(c.default,{item:n,index:a,productForm:t.props.productForm,listForm:t,edit:t.props.edit})))):e.push(r.default.createElement(s.Row,{key:n.uniqueKey,style:{marginTop:"10px"}},r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"12",xl:"12"},r.default.createElement(c.default,{item:n,index:a,productForm:t.props.productForm,listForm:t,edit:t.props.edit})))),a+=1})),e}return[]}},{key:"buildHeader",value:function(){var t=this.state.labels.product_active;return this.props.isInn&&(t=this.state.labels.active_substance),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:"12",sm:"9",lg:"9",xl:"9",className:"d-flex justify-content-center"},r.default.createElement("b",null,t)),r.default.createElement(s.Col,{xs:"12",sm:"3",lg:"3",xl:"3",className:"d-flex justify-content-end"},r.default.createElement(p.default,{label:this.state.labels.global_add,onClick:this.add,edit:this.props.edit})))}},{key:"render",value:function(){return u.default.isGoodArray(this.state.data)?r.default.createElement(s.Card,null,r.default.createElement(s.CardHeader,null,this.buildHeader()),r.default.createElement(s.CardBody,null,this.paintComponents())):[]}}]),e}(o.Component);e.default=h,h.propTypes={isInn:l.default.bool.isRequired,productForm:l.default.object}},126:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),r=p(o),s=a(11),l=(p(a(0)),p(a(18))),i=p(a(107)),u=p(a(109)),d=p(a(112)),c=p(a(111));function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={data:{id:0},index:-1,labels:{global_delete:"",add_active_substance:"",product_innname:"",dos_strength:"",dos_unit:""}},a.delete=a.delete.bind(a),a.createHeader=a.createHeader.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){l.default.resolveLabels(this),this.state.data=this.props.item,this.state.index=this.props.index}},{key:"componentDidUpdate",value:function(){this.state.data=this.props.item,this.state.index=this.props.index,this.state.data.justloaded&&(this.state.data.justloaded=!1,this.setState(this.state))}},{key:"delete",value:function(){this.props.listForm.deleteItem(this.state.index)}},{key:"createHeader",value:function(){var t=this.state.labels.add_active_substance;return this.state.data.id>0&&(t=this.state.data.product_innname.value.code),t}},{key:"render",value:function(){if(null==this.state.data)return[];var t=!1;return this.state.data.id>0?t=!0:-1==this.state.data.id&&(t=!0),t?r.default.createElement(s.Card,null,r.default.createElement(s.CardBody,null,r.default.createElement(s.Row,{key:this.state.data.uniqueKey},r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"9",xl:"9"},r.default.createElement(c.default,{attribute:"product_innname",component:this,api:"/api/common/inns",edit:this.props.edit})),r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"3",xl:"3",className:"d-flex align-items-center"},r.default.createElement(i.default,{key:"btn"+this.state.data.id,label:this.state.labels.global_delete,onClick:this.delete,edit:this.props.edit}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"8",xl:"8"},r.default.createElement(d.default,{mode:"text",attribute:"dos_strength",component:this,edit:this.props.edit})),r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"4",xl:"4"},r.default.createElement(u.default,{attribute:"dos_unit",component:this,hideEmpty:!1,edit:this.props.edit}))))):[]}}]),e}(o.Component);e.default=f,f.propTypes={}},127:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),r=p(o),s=a(11),l=(p(a(0)),p(a(18))),i=p(a(107)),u=p(a(109)),d=p(a(112)),c=p(a(111));function p(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={data:{id:0},index:-1,labels:{global_delete:"",product_active:"",global_add:"",dos_strength:"",dos_unit:""}},a.delete=a.delete.bind(a),a.createHeader=a.createHeader.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){l.default.resolveLabels(this),this.state.data=this.props.item,this.state.index=this.props.index}},{key:"componentDidUpdate",value:function(){this.state.data=this.props.item,this.state.index=this.props.index,this.state.data.justloaded&&(this.state.data.justloaded=!1,this.setState(this.state))}},{key:"delete",value:function(){this.props.listForm.deleteItem(this.state.index)}},{key:"createHeader",value:function(){var t=this.state.labels.global_add+" "+this.state.labels.product_active;return this.state.data.id>0&&(t=this.state.data.product_active.value.code),t}},{key:"render",value:function(){if(null==this.state.data)return[];var t=!1;return this.state.data.id>0?t=!0:-1==this.state.data.id&&(t=!0),t?r.default.createElement(s.Card,null,r.default.createElement(s.CardBody,null,r.default.createElement(s.Row,{key:this.state.data.uniqueKey},r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"9",xl:"9"},r.default.createElement(c.default,{attribute:"product_active",component:this,api:"/api/common/excipients",edit:this.props.edit})),r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"3",xl:"3",className:"d-flex align-items-center"},r.default.createElement(i.default,{label:this.state.labels.global_delete,onClick:this.delete,edit:this.props.edit}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"8",xl:"8"},r.default.createElement(d.default,{mode:"text",attribute:"dos_strength",component:this,edit:this.props.edit})),r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"4",xl:"4"},r.default.createElement(u.default,{attribute:"dos_unit",component:this,hideEmpty:!1,edit:this.props.edit}))))):[]}}]),e}(o.Component);e.default=f,f.propTypes={}},67:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}();var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e.state.data,null!=this.data?this.copy=this.cloneIt(this.data):(this.data={},this.copy={}),this.cloneIt=this.cloneIt.bind(this),this.checkChanges=this.checkChanges.bind(this),this.compareFldValues=this.compareFldValues.bind(this)}return n(t,[{key:"checkChanges",value:function(){for(var t in this.copy)if(null!=this.copy[t]&&null!=this.copy[t].value&&!this.compareFldValues(this.copy[t].value,this.data[t].value))return this.copy=this.cloneIt(this.data),t;return""}},{key:"compareFldValues",value:function(t,e){return null==t.id?t==e:t.id==e.id}},{key:"cloneIt",value:function(t){var e=JSON.stringify(t);return JSON.parse(e)}}]),t}();e.default=o},88:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),o=a(1),r=v(o),s=a(11),l=v(a(0)),i=v(a(18)),u=v(a(12)),d=(v(a(114)),v(a(107))),c=v(a(112)),p=v(a(117)),f=v(a(109)),h=v(a(124)),m=v(a(125)),b=v(a(119)),y=v(a(27));function v(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.state={status:"",alertColor:"",data:{id:0,prod_name:{value:""},inns:[],excipients:[],finProdManuf:{},manufacturers:[],validError:""},labels:{narc:"",prescr:"",hospital:"",otc:"",prod_name:"",prodgenname:"",dos_form:"",dos_unit:"",admin_route:"",prod_desc:"",product_shelflife:"",product_storcndtn:"",product_packsize:"",product_conttype:"",prod_indications:"",prod_posology:"",license_holder:"",registration_date:"",valid_to:"",prod_fnm:"",reg_number:"",address:"",global_save:"",saving:"",pleasefix:"",prod_cat:"",age_group:"",dos_strength:""}},a.cancel=a.cancel.bind(a),a.loadData=a.loadData.bind(a),a.save=a.save.bind(a),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"componentDidMount",value:function(){this.state.data.id=this.props.prodId,i.default.resolveLabels(this),this.loadData()}},{key:"componentDidUpdate",value:function(){this.props.prodId!=this.state.data.id&&(this.state.data.id=this.props.prodId,this.loadData())}},{key:"loadData",value:function(){var t=this;u.default.postJSONNoSpinner("/api/common/product/load",this.state.data,(function(e,a){t.state.data=a,t.setState(t.state)}))}},{key:"cancel",value:function(){this.props.close()}},{key:"save",value:function(){var t=this;this.state.status=this.state.labels.saving,this.setState(this.state),u.default.postJSON("/api/common/product/save",this.state.data,(function(e,a){t.state.data=a;var n=new Date(t.state.data.lastSaved);t.state.data.valid?(t.state.status="",t.state.alertColor="info",y.default.navigate("quotas","quotas","void")):(t.state.status=t.state.labels.pleasefix+" "+n.toLocaleString(t.state.labels.locale),t.state.alertColor="danger"),t.setState(t.state.data)}))}},{key:"render",value:function(){if(null==this.state.data.address||null==this.state.labels.locale)return[];var t=!this.props.edit&&"global_no"==this.state.data.narc.value.originalCode&&"global_no"==this.state.data.prescr.value.originalCode&&"global_no"==this.state.data.hospital.value.originalCode&&"global_no"==this.state.data.otc.value.originalCode;return r.default.createElement(s.Card,{style:{fontSize:"0.8rem"}},r.default.createElement(s.CardHeader,null,r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"8",xl:"8",className:"d-flex justify-content-center"},r.default.createElement("h6",null,this.state.data.prod_name.value)),r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"3",xl:"3",className:"d-flex justify-content-end"},r.default.createElement(d.default,{onClick:this.save,label:this.state.labels.global_save,edit:this.props.edit})),r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"1",xl:"1",className:"d-flex justify-content-end"},r.default.createElement(s.Button,{close:!0,onClick:this.cancel}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:"12",sm:"12",lg:"6",xl:"6"},r.default.createElement(s.Alert,{className:"p-1",isOpen:this.state.data.validError.length>0,color:this.state.data.alertColor},this.state.data.validError)))),r.default.createElement(s.CardBody,null,r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:12,sm:12,lg:4,xl:4},r.default.createElement(c.default,{mode:"text",attribute:"license_holder",component:this,edit:!1,hideEmpty:!0})),r.default.createElement(s.Col,{xs:12,sm:12,lg:8,xl:8},r.default.createElement(c.default,{mode:"text",attribute:"address",component:this,edit:!1,hideEmpty:!0}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:12,sm:12,lg:6,xl:6},r.default.createElement(c.default,{mode:"text",attribute:"prod_name",component:this,edit:this.props.edit,hideEmpty:!0})),r.default.createElement(s.Col,{xs:12,sm:12,lg:6,xl:6},r.default.createElement(c.default,{mode:"text",attribute:"prodgenname",component:this,edit:this.props.edit,hideEmpty:!0}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:12,sm:12,lg:6,xl:6},r.default.createElement(f.default,{attribute:"dos_form",component:this,edit:this.props.edit,hideEmpty:!0})),r.default.createElement(s.Col,{xs:12,sm:12,lg:6,xl:6},r.default.createElement(f.default,{attribute:"dos_unit",component:this,edit:this.props.edit,hideEmpty:!0}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:12,sm:12,lg:6,xl:6},r.default.createElement(c.default,{mode:"text",attribute:"dos_strength",component:this,edit:this.props.edit,hideEmpty:!0})),r.default.createElement(s.Col,{xs:12,sm:12,lg:6,xl:6},r.default.createElement(f.default,{attribute:"prod_cat",component:this,edit:this.props.edit,hideEmpty:!0}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:12,sm:12,lg:6,xl:6},r.default.createElement(f.default,{attribute:"age_group",component:this,edit:this.props.edit,hideEmpty:!0})),r.default.createElement(s.Col,{xs:12,sm:12,lg:6,xl:6},r.default.createElement(f.default,{attribute:"admin_route",component:this,edit:this.props.edit,hideEmpty:!0}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:12,sm:12,lg:3,xl:3},r.default.createElement(c.default,{mode:"text",attribute:"reg_number",component:this,edit:!1,hideEmpty:!0})),r.default.createElement(s.Col,{xs:12,sm:12,lg:3,xl:3,hidden:""==this.state.data.reg_number.value},r.default.createElement(p.default,{attribute:"registration_date",component:this,edit:!1,hideEmpty:!0})),r.default.createElement(s.Col,{xs:12,sm:12,lg:3,xl:3,hidden:""==this.state.data.reg_number.value},r.default.createElement(p.default,{attribute:"valid_to",component:this,edit:!1,hideEmpty:!0})),r.default.createElement(s.Col,{xs:12,sm:12,lg:3,xl:3},r.default.createElement(c.default,{mode:"text",attribute:"prod_fnm",component:this,edit:!1,hideEmpty:!0}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,null,r.default.createElement(h.default,{data:this.state.data,property:"atc",edit:this.props.edit}))),r.default.createElement(s.Row,{xs:12,sm:12,lg:12,xl:12},r.default.createElement(s.Col,null,r.default.createElement(m.default,{isInn:!0,productForm:this,edit:this.props.edit}))),r.default.createElement(s.Row,{xs:12,sm:12,lg:12,xl:12,style:{marginTop:"10px"}},r.default.createElement(s.Col,null,r.default.createElement(m.default,{isInn:!1,productForm:this,edit:this.props.edit}))),r.default.createElement(s.Row,{xs:12,sm:12,lg:12,xl:12,style:{marginTop:"10px"}},r.default.createElement(s.Col,null,r.default.createElement(b.default,{productForm:this,edit:this.props.edit}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:12,sm:12,lg:4,xl:4},r.default.createElement(c.default,{mode:"text",attribute:"product_packsize",component:this,edit:this.props.edit,hideEmpty:!0})),r.default.createElement(s.Col,{xs:12,sm:12,lg:8,xl:8},r.default.createElement(c.default,{mode:"text",attribute:"product_conttype",component:this,edit:this.props.edit,hideEmpty:!0}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,{xs:12,sm:12,lg:4,xl:4},r.default.createElement(c.default,{mode:"text",attribute:"product_shelflife",component:this,edit:this.props.edit,hideEmpty:!0})),r.default.createElement(s.Col,{xs:12,sm:12,lg:8,xl:8},r.default.createElement(c.default,{mode:"text",attribute:"product_storcndtn",component:this,edit:this.props.edit,hideEmpty:!0}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,null,r.default.createElement(c.default,{mode:"textarea",attribute:"prod_indications",component:this,edit:this.props.edit,hideEmpty:!0}))),r.default.createElement(s.Row,null,r.default.createElement(s.Col,null,r.default.createElement(c.default,{mode:"textarea",attribute:"prod_posology",component:this,edit:this.props.edit,hideEmpty:!0}))),r.default.createElement(s.Row,{hidden:this.props.noschedule||t},r.default.createElement(s.Col,{xs:12,sm:6,lg:3,xl:3},r.default.createElement(f.default,{attribute:"narc",component:this,edit:this.props.edit,hideEmpty:!0})),r.default.createElement(s.Col,{xs:12,sm:6,lg:3,xl:3},r.default.createElement(f.default,{attribute:"prescr",component:this,edit:this.props.edit,hideEmpty:!0})),r.default.createElement(s.Col,{xs:12,sm:6,lg:3,xl:3},r.default.createElement(f.default,{attribute:"hospital",component:this,edit:this.props.edit,hideEmpty:!0})),r.default.createElement(s.Col,{xs:12,sm:6,lg:3,xl:3},r.default.createElement(f.default,{attribute:"otc",component:this,edit:this.props.edit,hideEmpty:!0})))))}}]),e}(o.Component);e.default=g,g.propTypes={prodId:l.default.oneOfType([l.default.string,l.default.number]).isRequired,close:l.default.func.isRequired,edit:l.default.bool,noschudule:l.default.bool}}}]);